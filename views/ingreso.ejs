<div class="container my-3">
  <h1>INGRESOS MENSUALES</h1>

  <!--BOTON NUEVO-->
  <div Class="container my-3">
    <!-- Button trigger modal -->
    <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#modal-nuevo-ingreso">
      Nuevo
    </button>
  </div>
    
    
  <div class="container my-3" >   
    
    <!--TABLA-->         
    <table  id="tabla-ingresos" class="table table-striped table-ligth table-bordered table-hover">
        <thead>
          <tr>
            <th class="edicion">Nro.</th>
            <th>Tipo de Ingreso</th>
            <th>Descripcion</th>
            <th>Cantidad ($)</th>
            <th>Fecha</th>
            <th>Acción</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <% ingreso.forEach(function(item) { %>
            <td><%= item.idIngreso %></td>
            <td><%= item.nombreTipoIngreso %></td>
            <td><%= item.descripcion %></td>
            <td><%= item.cantidad %></td>
            <td><%= item.fecha %></td>
            <td>
              <input type='image' src='/img/Editar.png' data-bs-toggle="modal" data-bs-target="#modal-editar-ingreso" class ='img_boton' id = "<%= item.idIngreso %>" onclick = EditarIngreso(this); > 
              <input type='image' src='/img/Eliminar.png' data-bs-toggle="modal" data-bs-target="#modal-eliminar-ingreso" class ='img_boton' id = "<%= item.idIngreso %>" onclick = BorrarIngreso(this); >
            </td>
          </tr>
          <% }); %>
        </tbody>
    </table>
  </div>
</div>



<!--MODAL EDITAR-->
<div class="modal fade" id="modal-editar-ingreso" tabindex="-1" aria-hidden="true">
  <form id="editarIngreso"  action="/editarIngreso" method="post">
      <div class="modal-dialog">
          <div class="modal-content">
              <div class="modal-header">
              <h5 class="modal-title">Editar Registro</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                <%- include('Modales/modalIngreso'); -%>
              </div>
              <div class="modal-footer">
              <button type="submit" class="btn btn-success" data-bs-dismiss="modal">Guardar</button>
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
              </div>
          </div>
      </div>
  </form>
</div>


<!--MODAL NUEVO-->
<div class="modal fade" id="modal-nuevo-ingreso" tabindex="-1" aria-hidden="true">
  <form id="nuevoIngreso"  action="/registroIngreso" method="post">
      <div class="modal-dialog">
          <div class="modal-content">
              <div class="modal-header">
              <h5 class="modal-title">Nuevo Registro</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                <%- include('Modales/modalIngreso'); -%>
              </div>
              <div class="modal-footer">
              <button type="submit" class="btn btn-success" data-bs-dismiss="modal">Guardar</button>
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
              </div>
          </div>
      </div>
  </form>
</div>

<!-- MODAL ELIMINAR TAREA -->
<div class="modal fade" id="modal-eliminar-ingreso" tabindex="-1" aria-hidden="true">
  <form action="/eliminarIngreso" method="post">
      <div class="modal-dialog">
          <div class="modal-content">
              <div class="modal-header">
              <h5 class="modal-title">Eliminar Tarea</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">  
              <p >Esta a punto de eliminar una ingreso. ¿Desea de continuar?</p>


                  <div class="input-group mb-3">
                      <div class="input-group-prepend">
                          <span class="input-group-text" id="basic-addon1">Nro.:</span>
                      </div>
                      <input type="text" name="idIngreso" id="Id_borrar" class="form-control" placeholder="" aria-describedby="basic-addon1" readonly onmousedown="return false;">
                  </div>
                  
                  <div class="input-group mb-3">
                      <div class="input-group-prepend">
                          <span class="input-group-text" id="basic-addon1">Descripcion:</span>
                      </div>
                      <input type="text" name="idTipoIngreso" id="Nombre_borrar" class="form-control" placeholder="" aria-describedby="basic-addon1" readonly onmousedown="return false;">
                  </div>


              </div>
              <div class="modal-footer">
              <button type="submit" class="btn btn-danger" data-bs-dismiss="modal">Eliminar</button>
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
              </div>
          </div>
      </div>
  </form>
</div>